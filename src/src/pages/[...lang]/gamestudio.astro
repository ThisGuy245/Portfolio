---
import Nav from '../../components/Nav.astro';
import Layout from '../../layouts/Layout.astro';
import { languages } from '../../i18n/ui';
import { getLangFromUrl, useTranslations } from '../../i18n/utils';

export async function getStaticPaths() {
    return languages.map(lang => ({
        params: { lang: lang.key },
        props: { lang: lang.key }
    }));
}

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<Layout title={t('Game Studio Project')}>
    <Nav lang={lang} />
    <main class="game-studio-page">
        <!-- Header Section -->
        <header class="project-header">
            <h1>{t('Game Studio Project')}</h1>
            <p>{t('An 8-person project where I served as the overall producer. Team included 2 programmers, 4 designers, and 1 tech artist.')}</p>
        </header>

        <!-- My Role as Producer Section -->
        <section class="producer-role">
            <h2>{t('My Role as Producer')}</h2>
            <div class="content">
                <p>
                    {t('As the producer, I am responsible for:')}
                </p>
                <ul>
                    <li>{t('Project management and task delegation using Trello and Notion.')}</li>
                    <li>{t('Creating weekly progress reports and delving into market research / PR for the game.')}</li>
                    <li>{t('Managing Git and GitHub, including merging branches and resolving conflicts.')}</li>
                    <li>{t('Guiding programmers and debugging critical code in Unity.')}</li>
                    <li>{t('Designing AI behavior trees and creating concept diagrams for game mechanics.')}</li>
                    <li>{t('Creating sounds and the OST (Music and Ambience) for the game using Logic X Pro.')}</li>
                </ul>
                <img src="/media/studio/gantt.png" alt={t('Producer Role')} class="placeholder-image" />
            </div>
        </section>

        <!-- Core Gameplay Section -->
        <section class="core-gameplay">
            <h2>{t('Core Gameplay')}</h2>
            <div class="content">
                <p>
                    {t('Players enter the game in the lobby casino room. Each round, they venture into an industrial dungeon to collect loot and return it to the casino to sell. They must meet a quota by betting at the roulette wheel. Failure to meet the quota results in losing favor with the Roulette Deity.')}
                </p>
                <img src="/media/studio/casino.jpg" alt={t('Core Gameplay')} class="placeholder-image" />
            </div>
        </section>

        <!-- Monsters Section -->
        <section class="monsters">
            <h2>{t('Monsters')}</h2>
            <div class="monster-grid">
                <!-- Roulette God -->
                <div class="monster-card">
                    <h3>{t('Roulette God')}</h3>
                    <img src="/media/studio/roulette.png" alt={t('Roulette God')} class="monster-image" />
                    <p>{t('The Deity that must be pleased within the facility, It will assess the performance of players and either ease/harden the state of the game.')}</p>
                </div>

                <!-- Die Monster -->
                <div class="monster-card">
                    <h3>{t('Die Monster')}</h3>
                    <img src="/media/studio/die.png" alt={t('Die Monster')} class="monster-image" />
                    <p>{t('A large dice that rolls around the level, blocking hallways and eliminating players or monsters it lands on.')}</p>
                </div>

                <!-- Slot Machine Monster -->
                <div class="monster-card">
                    <h3>{t('Slot Machine Monster')}</h3>
                    <img src="/media/studio/slots.png" alt={t('Slot Machine Monster')} class="monster-image" />
                    <p>{t('A flesh amalgamation of a slot machine that chases players with unpredictable speed changes.')}</p>
                </div>
            </div>
        </section>

        <!-- Environment Section -->
        <section class="environment">
            <h2>{t('Environment')}</h2>
            <div class="content">
                <p>
                    {t('The game features two main environments: the Casino Lobby and the Industrial Dungeon. The dungeon is a dark, abandoned industrial space with procedurally generated rooms and corridors.')}
                </p>
                <img src="/media/studio/level.png" alt={t('Dungeon Environment')} class="placeholder-image" />
            </div>
        </section>
    </main>
</Layout>

<style>
    /* General Styles */
    .game-studio-page {
        padding: 20px;
        max-width: 1200px;
        margin: 0 auto;
        color: #e4e4e7;
    }

    .project-header {
        text-align: center;
        margin-bottom: 40px;
    }

    .project-header h1 {
        font-size: 2.5rem;
        color: #bb86fc;
    }

    .project-header p {
        font-size: 1.1rem;
        color: #a1a1aa;
    }

    /* Core Gameplay Section */
    .core-gameplay, .environment, .producer-role {
        margin-bottom: 40px;
    }

    .core-gameplay .content, .environment .content, .producer-role .content {
        display: flex;
        align-items: center;
        gap: 20px;
    }

    .core-gameplay p, .environment p, .producer-role p {
        flex: 2;
        font-size: 1rem;
        line-height: 1.6;
    }

    .placeholder-image {
        flex: 1;
        max-width: 300px;
        border-radius: 12px;
    }

    /* Monsters Section */
    .monsters {
        margin-bottom: 40px;
    }

    .monster-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
    }

    .monster-card {
        background: rgba(255, 255, 255, 0.1);
        padding: 20px;
        border-radius: 12px;
        text-align: center;
    }

    .monster-card h3 {
        font-size: 1.25rem;
        color: #bb86fc;
        margin-bottom: 10px;
    }

    .monster-image {
        width: 100%;
        height: 150px;
        object-fit: cover;
        border-radius: 8px;
        margin-bottom: 10px;
    }

    /* Producer Role Section */
    .producer-role ul {
        list-style-type: disc;
        padding-left: 20px;
    }

    .producer-role li {
        margin-bottom: 10px;
    }
</style>